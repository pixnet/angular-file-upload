/* ! 1.6.2#fixNg1.3 */
!function(){var e=function(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!=navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1},t=function(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])};if(window.XMLHttpRequest){if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};t("open",function(e){return function(t,i,s){n(this),this.__url=i;try{e.apply(this,[t,i,s])}catch(a){a.message.indexOf("Access is denied")>-1&&e.apply(this,[t,"_fix_for_ie_crossdomain__",s])}}}),t("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),t("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),t("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),t("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var s=i(this);s instanceof Function&&s(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),t("send",function(t){return function(){var n=this;if(arguments[0]&&arguments[0].__isShim){var i=arguments[0],s={url:n.__url,jsonp:!1,cache:!0,complete:function(e,t){n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==t.status&&Object.defineProperty(n,"status",{get:function(){return 0==t.status&&e&&"abort"!==e?500:t.status},configurable:!0}),void 0!==t.statusText&&Object.defineProperty(n,"statusText",{get:function(){return t.statusText},configurable:!0}),Object.defineProperty(n,"readyState",{get:function(){return 4},configurable:!0}),void 0!==t.response&&Object.defineProperty(n,"response",{get:function(){return t.response}});var i=t.responseText||(e&&0==t.status&&"abort"!==e?e:void 0);Object.defineProperty(n,"responseText",{get:function(){return i},configurable:!0}),Object.defineProperty(n,"response",{get:function(){return i},configurable:!0}),e&&Object.defineProperty(n,"err",{get:function(){return e},configurable:!0});try{n.onload?n.onload():n.onreadystatechange&&n.onreadystatechange()}catch(s){}},fileprogress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},1e4)}},headers:n.__requestHeaders};s.data={},s.files={};for(var a=0;a<i.data.length;a++){var r=i.data[a];null!=r.val&&null!=r.val.name&&null!=r.val.size&&null!=r.val.type?s.files[r.key]=r.val:s.data[r.key]=r.val}setTimeout(function(){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(s)},1)}else t.apply(n,arguments)}})}else t("setRequestHeader",function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}});window.XMLHttpRequest.__isShim=!0}if(!window.FormData||window.FileAPI&&FileAPI.forceLoad){var i=function(t){if(!e())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var n=angular.element(t);if(!(n.attr("disabled")||n.hasClass("js-fileapi-wrapper")||null==t.getAttribute("ng-file-select")&&null==t.getAttribute("data-ng-file-select")))if(FileAPI.wrapInsideDiv){var i=document.createElement("div");i.innerHTML='<div class="js-fileapi-wrapper" style="position:relative; overflow:hidden"></div>',i=i.firstChild;var s=t.parentNode;s.insertBefore(i,t),s.removeChild(t),i.appendChild(t)}else n.addClass("js-fileapi-wrapper"),n.parent()[0].__file_click_fn_delegate_&&((""===n.parent().css("position")||"static"===n.parent().css("position"))&&n.parent().css("position","relative"),n.css("top",0).css("bottom",0).css("left",0).css("right",0).css("width","100%").css("height","100%").css("padding",0).css("margin",0),n.parent().unbind("click",n.parent()[0].__file_click_fn_delegate_))},s=function(e){return function(t){for(var n=FileAPI.getFiles(t),i=0;i<n.length;i++)void 0===n[i].size&&(n[i].size=0),void 0===n[i].name&&(n[i].name="file"),void 0===n[i].type&&(n[i].type="undefined");t.target||(t.target={}),t.target.files=n,t.target.files!=n&&(t.__files_=n),(t.__files_||t.target.files).item=function(e){return(t.__files_||t.target.files)[e]||null},e&&e.apply(this,[t])}},a=function(e,t){return("change"===t.toLowerCase()||"onchange"===t.toLowerCase())&&"file"==e.getAttribute("type")};HTMLInputElement.prototype.addEventListener&&(HTMLInputElement.prototype.addEventListener=function(e){return function(t,n,r,l){a(this,t)?(i(this),e.apply(this,[t,s(n),r,l])):e.apply(this,[t,n,r,l])}}(HTMLInputElement.prototype.addEventListener)),HTMLInputElement.prototype.attachEvent&&(HTMLInputElement.prototype.attachEvent=function(e){return function(t,n){a(this,t)?(i(this),window.jQuery?angular.element(this).bind("change",s(null)):e.apply(this,[t,s(n)])):e.apply(this,[t,n])}}(HTMLInputElement.prototype.attachEvent)),window.FormData=FormData=function(){return{append:function(e,t,n){this.data.push({key:e,val:t,name:n})},data:[],__isShim:!0}},function(){if(window.FileAPI||(window.FileAPI={}),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var t,n,i,s,a,r=document.createElement("script"),l=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)t=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)n=window.FileAPI.jsPath;else for(i=0;i<l.length;i++)if(a=l[i].src,s=a.indexOf("angular-file-upload-shim.js"),-1==s&&(s=a.indexOf("angular-file-upload-shim.min.js")),s>-1){n=a.substring(0,s);break}null==FileAPI.staticPath&&(FileAPI.staticPath=n),r.setAttribute("src",t||n+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(r),FileAPI.hasFlash=e()}}(),FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){if(t||(t=!0,e.onloadstart&&this.onloadstart(n("loadstart",i))),"load"===i.type){e.onloadend&&e.onloadend(n("loadend",i));var s=n("load",i);e.onload&&e.onload(s),e.dispatchEvent(s)}else if("progress"===i.type){var s=n("progress",i);e.onprogress&&e.onprogress(s),e.dispatchEvent(s)}else{var s=n("error",i);e.onerror&&e.onerror(s),e.dispatchEvent(s)}};this.readAsArrayBuffer=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsBinaryString=function(e){FileAPI.readAsBinaryString(e,i)},this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}})}();
